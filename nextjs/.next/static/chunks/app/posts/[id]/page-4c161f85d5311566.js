(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[722],{3437:function(e,s,t){Promise.resolve().then(t.bind(t,8013))},8013:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var n=t(7437),a=t(2265),r=t(5806),i=t(4033),l=t(6763),c=t(1396),d=t.n(c);function o(e){let{params:s}=e,{user:t}=(0,r.useAuth)(),c=(0,i.useRouter)(),[o,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(!0);(0,a.useEffect)(()=>{x()},[s.id]);let x=async()=>{let{data:e,error:t}=await l.O.from("posts").select("*").eq("id",s.id).maybeSingle();t?console.error("Error fetching post:",t):e&&u(e),m(!1)},b=async()=>{if(!confirm("Are you sure you want to delete this post?"))return;let{error:e}=await l.O.from("posts").delete().eq("id",s.id);e?alert("Error deleting post: "+e.message):c.push("/posts")};return h?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsx)("span",{className:"loading loading-spinner loading-lg"})}):o?(0,n.jsxs)("div",{className:"min-h-screen bg-base-200",children:[(0,n.jsx)("div",{className:"navbar bg-base-100 shadow-lg",children:(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)(d(),{href:"/posts",className:"btn btn-ghost normal-case text-xl",children:"Post Manager"})})}),(0,n.jsx)("div",{className:"container mx-auto p-4 max-w-3xl",children:(0,n.jsx)("div",{className:"card bg-base-100 shadow-xl",children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-2",children:o.title}),(0,n.jsxs)("p",{className:"text-sm text-base-content/60 mb-4",children:["Created: ",new Date(o.created_at).toLocaleString(),o.updated_at!==o.created_at&&(0,n.jsxs)(n.Fragment,{children:[" â€¢ Updated: ",new Date(o.updated_at).toLocaleString()]})]}),(0,n.jsx)("div",{className:"prose max-w-none",children:(0,n.jsx)("p",{className:"whitespace-pre-wrap",children:o.content})}),(0,n.jsxs)("div",{className:"card-actions justify-end mt-6",children:[(0,n.jsx)(d(),{href:"/posts",className:"btn btn-ghost",children:"Back to Posts"}),(null==t?void 0:t.id)===o.user_id&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d(),{href:"/posts/".concat(o.id,"/edit"),className:"btn btn-warning",children:"Edit"}),(0,n.jsx)("button",{onClick:b,className:"btn btn-error",children:"Delete"})]})]})]})})})]}):(0,n.jsxs)("div",{className:"min-h-screen bg-base-200",children:[(0,n.jsx)("div",{className:"navbar bg-base-100 shadow-lg",children:(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)(d(),{href:"/posts",className:"btn btn-ghost normal-case text-xl",children:"Post Manager"})})}),(0,n.jsx)("div",{className:"container mx-auto p-4",children:(0,n.jsx)("div",{className:"alert alert-error",children:(0,n.jsx)("span",{children:"Post not found"})})})]})}},5806:function(e,s,t){"use strict";t.r(s),t.d(s,{AuthProvider:function(){return c},useAuth:function(){return d}});var n=t(7437),a=t(2265),r=t(6763),i=t(4033);let l=(0,a.createContext)({});function c(e){let{children:s}=e,[t,c]=(0,a.useState)(null),[d,o]=(0,a.useState)(!0),u=(0,i.useRouter)();(0,a.useEffect)(()=>{r.O.auth.getSession().then(e=>{var s;let{data:{session:t}}=e;c(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null),o(!1)});let{data:{subscription:e}}=r.O.auth.onAuthStateChange((e,s)=>{var t;c(null!==(t=null==s?void 0:s.user)&&void 0!==t?t:null)});return()=>e.unsubscribe()},[]);let h=async(e,s)=>{let{error:t}=await r.O.auth.signUp({email:e,password:s});return{error:t}},m=async(e,s)=>{let{error:t}=await r.O.auth.signInWithPassword({email:e,password:s});return{error:t}},x=async()=>{await r.O.auth.signOut(),u.push("/auth/signin")};return(0,n.jsx)(l.Provider,{value:{user:t,loading:d,signUp:h,signIn:m,signOut:x},children:s})}let d=()=>(0,a.useContext)(l)},6763:function(e,s,t){"use strict";t.d(s,{O:function(){return a}});var n=t(5257);let a=(0,n.eI)("https://jsmewescgnvfbevdnuqx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzbWV3ZXNjZ252ZmJldmRudXF4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4NDQxMTksImV4cCI6MjA3NzQyMDExOX0.HFUEr-FR97YIw_eWQab8oJK7ZvtLWXBEuY_RqVTd_1I")},1396:function(e,s,t){e.exports=t(4724)}},function(e){e.O(0,[850,724,971,864,744],function(){return e(e.s=3437)}),_N_E=e.O()}]);